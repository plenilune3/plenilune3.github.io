---
title: 가상머신에 서버 올려보기
categories: 
  - OS
---

## Summary

(작성중)

## Introduction

가상화에 대해서 알아보고자 가상머신에 Debian을 올려보았습니다.
VirtualBox에 가상머신을 만들고 기본적인 설정을 마치는 것이 목표입니다.
간단한 서비스도 한번 올려보도록 하겠습니다.

## What is Debian?

> CULTURE Origin of the Debian name
> Look no further: Debian is not an acronym. This name is, in reality, a contraction of two first names: that of Ian Murdock, and his girlfriend at the time, Debra. Debra + Ian = Debian.

Debian은 GNU/Linux 배포판입니다.
리눅스 커널과 무료 소프트웨어에 기반을 둔, 설치 및 관리를 위한 소프트웨어와 시스템을 포함한 완전한 운영체제입니다.
*Debian Manifesto*를 보면 Debian의 명확한 목표를 알 수 있습니다.
- quality: Debian would be developed with the greatest care, to be worthy of the Linux kernel
- It would also be a non-commercial distribution, sufficiently credible to compete with major commercial distributions.

### A Multy-Platform Opeating System

초기 원칙에 충실한 Debian은 많은 성공을 거두어 오늘날 엄청난 규모에 도달했습니다.
현재 공식적으로 지원하는 10개의 하드웨어 아키텍처와 FreeBSD와 같은 다른 커널이 있습니다.
더 나아가, 28,000개의 패키지를 통해 사용 가능한 소프트웨어는 가정과 기업에서 가지고 있는 모든 요구사항을 충족할 수 있습니다.

### The Quality of Free Software

데비안은 무료 소프트웨어의 모든 원칙을 따르며 새 버전은 준비가 될 때까지 출시되지 않습니다.
개발자는 정해진 일정에 따라 작업하지 않으며 임의의 기한을 맞추기 위해 서두를 필요가 없습니다.

데비안은 품질에 타협하지 않습니다.
패키지의 알려진 모든 중요한 버그는 새로운 버전에서 해결됩니다.
이 경우 초기 예측 릴리즈 날짜를 뒤로 밀어야하는 경우에도 마찬가지 입니다.
중요한 버그가 수정되지 않아 품질 요구 사항을 충족하지 않는 선택적 패키지는 안정 릴리즈에서 삭제합니다.

### The Legal Framework: A Non-Profit Organization

법적으로 Debian은 미국의 비영리 자원 봉사 협회가 관리하는 프로젝트 입니다.
프로젝트는 약 천명의 Debian 개발자를 가지고 있지만, 더 많은 기여자들이 있습니다.

## Why choose Debian?

[TEST](https://www.makeuseof.com/tag/reasons-choose-debian-linux/)

## How to install

### LVM

> Logical Volume을 효율적이고 유연하게 관리하기 위한 커널의 한 부분이자 프로그램
> 디스크나 대용량 스토리지 장치를 유연하고 확장이 가능하게 다룰 수 있는 기술이며 이를 커널에 구현한 기술을 LVM이라고 한다.

기존 방식이 파일시스템을 블록 장치에 직접 접근해서 읽고 쓰기를 했다면,
LVM은 파일시스템이 LVM이 만든 가상의 블록 장치에 읽고 쓰기를 합니다.

직접 물리 스토리지를 사용하는 것보다 다양한 측면에서 유연성을 제공하는데,
유연한 용량 조절, 크기 조정이 가능한 스토리지 풀(Pool), 
편의에 따른 장치 이름 지정, 디스크 스트라이핑, 미러 볼륨 등을 제공합니다.

전통적으로 저장 장치를 사용했던 방식은 물리 디스크를 파티션이라는 단위로 나누어서
이를 파티션이라는 단위로 나누어서 이를 OS에 마운트하여 사용했습니다.
마운트 하려면 파티션을 특정 디렉토리와 일치시켜야 했습니다.

만약 특정 파티션에 마운트한 파티션의 용량이 일정 수준 이상 찼을 경우 다음과 같은 번거로운 작업을 수행해야 합니다.

- 추가 디스크를 장착
- 추가한 디스크에 파티션 생성 및 포맷
- 새로운 마운트 포인트(/home2)를 만들고 추가한 파티션을 마운트
- 기존 home 데이터를 home2 에 복사 또는 이동
- 기존 home 파티션을 언마운트
- home2 를 home 으로 마운트

LVM 은 이름처럼 파티션대신 볼륨이라는 단위로 저장 장치를 다룰 수 있으며, 
물리 디스크를 볼륨 그룹으로 묶고 이것을 논리 볼륨으로 분할하여 관리합니다. 
스토리지의 확장이나 변경시 서비스의 변경을 할 수 있으며 
특정 영역의 사용량이 많아져서 저장 공간이 부족할 경우에 유연하게 대응할 수 있습니다.

이제 /home 영역이 거의 찼을 경우 LVM이 적용되어 있으면 다음과 같이 처리할 수 있습니다.

- 추가 디스크를 장착
- 추가된 디스크에 파티션을 만들어서 물리 볼륨(PV) 생성
- 물리 볼륨을 볼륨 그룹(VG)에 추가. 여기서는 vg_data 볼륨 그룹으로 추가합니다.
- /home 이 사용하는 논리 볼륨인 lv_home의 볼륨 사이즈를 증가

위와 같이 변경 작업을 기존 데이터의 삭제나 이동 없이 서비스가 구동중인 상태에서 유연하게 볼륨을 늘리고 줄일 수 있습니다.

### Differences between aptitude and apt

### AppArmor

### UFW

### SSH

### Portforwarding

### User and Group

- sudo

### Password policy

- a
- b
- c

### Configuration for sudo group

### Monitoring

## BONUS

### partitioning

### WordPress + lighttpd + MariaDB + PHP

## Conclusion